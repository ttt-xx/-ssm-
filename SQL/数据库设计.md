##  数据结构设计

　　首页需要的数据是热门商品的信息，商品信息需要建立一个Bean对象，存储内容是商品的id、商品名称、商品单价、商品类别、商品数量、商品详细信息、商品成色、商品附带的图片地址、热门程度、发表用户的id、留言的集合，当用户发表之后，保存数据到Bean对象中，并将它存储到数据库。首页请求数据之后，根据热门度返回多个数据，将数据存储到list集合中，并且将它转换为JSON格式数据，返回到页面，页面解析数据并且显示。

　　商场则负责显示所有的商品数据，实现侧边栏点击指定的类别之后，显示对应类别的数据，需要的是类别的id，因此类别Bean对象的数据是类别id、类别名称，点击之后，通过类别id获取到商品详情集合，并且将它转为JSON格式的数据，返回到前端页面，显示数据。

　　点击商品之后，需要显示商品详细信息，通过商品的id返回指定商品的Bean对象，转化为JSON格式的数据，返回到前端页面显示，需要显示商品的留言信息，因此需要留言的Bean对象，包括数据留言id、留言的商品id、留言内容、留言时间，结合商品的详情返回JSON格式数据，前端解析之后显示。

　　求购商城，负责显示所有的求购商品，需要求购商品的Bean，内容包括求购商品id、求购商品名称、求购商品数量、求购商品单价、求购商品详细信息、求购商品留言集合。页面显示时从后台返回对象集合转变的JSON数据，前端解析数据并且显示出来。

　　登陆界面需要验证用户信息，用户信息包括内容用户id、用户名、用户的手机号码、用户密码、用户真实姓名、用户地址、用户email、用户性别、用户学号。验证的时候只需要判断手机号码和密码是否符合，符合则验证通过，返回验证结果，用JSON存储数据。失败则返回失败信息。

　　主要用到的数据结构是ArrayList负责组合各种信息，并且转换为JSON格式数据返回。数据需要排序的时候，用到的是快速排序，负责排列热门商品等的信息，并且返回数据到前端页面进行显示。

##  数据字典

用户信息表  

|   字段名   |   字段类型   | 是否可为空 |     备注     |
| :--------: | :----------: | :--------: | :----------: |
|     Id     |   Int(11)    |     否     |     主键     |
|   Modify   |   Datetime   |     是     |   修改时间   |
|  Username  | Varchar(50)  |     否     |   用户昵称   |
|   Phone    |   Char(11)   |     否     | 用户手机号码 |
|  realName  | Varchar(20)  |     是     | 用户真实姓名 |
|   Clazz    | Varchar(20)  |     是     | 用户所在班级 |
|    Sno     |   Char(12)   |     是     |   用户学号   |
| Dormitory  | Varchar(20)  |     是     |    宿舍号    |
|   Gender   |  Char（2）   |     是     |     性别     |
| Createtime |   Datetime   |     是     |   创建时间   |
|   Avatar   | Varchar(200) |     是     |     头像     |

用户密码表  

|  字段名  |  字段类型   | 是否可为空 |   备注   |
| :------: | :---------: | :--------: | :------: |
|    Id    |     Int     |     否     |   主键   |
|  Modify  |  Datetime   |     是     | 修改时间 |
| Password | Varchar(24) |     否     | 用户密码 |
|   Uid    |     Int     |     否     |  用户id  |

商品表  

|字段名	|字段类型|	是否可为空|	备注|
|:------:|:------:|:------:|:------:| 	
|  Id|	Int(11)	 | 否|	主键
|Modify|	Datetime|	  是|	修改时间
|Name|	Varchar(50)	|  否|	商品名称
|Level|	Int	  |否|	商品成色
|Remark	|Varchar(255)|	  是|	  商品详细信息
|Price|	Decimal(0.00)|	  否|	商品价格
|Sort|	Int	|  否|	商品类别
|Count|	Int	|  否|	商品数量
|Display|	Int	 | 否|	 商品是否被下架
|Transaction	|Int|	  否	|    交易方式
|Sales|	Int	 | 否|	   商品销量|
|Uid	|Int	|  否|	发表的用户id|
|Image|	Varchar(255)|	  否|	商品的图片地址

商品留言  

|字段名	|字段类型|	是否可为空|	备注
|:------:|:------:|:------:|:------:|
|  Id|	Int(11)|	  否|	主键
|Modify|	Datetime|	  是|	修改时间
|Sid|	Int	|  否|	商品的id
|Content|	Varchar(122)|	  否|	留言内容
|Display	|Int|	  否|	是否可见
|Uid	|Int	|  否|	评论的用户id

我的收藏  

|字段名	|字段类型|	是否可为空|	备注
|:------:|:------:|:------:|:------:|
|  Id|	Int(11)	 | 否|	主键
|Modify|	Datetime|	  是|	修改时间
|Sid	|Int	 | 否	|商品的id
|Display	|Int|	  否|	是否可见
|Uid	|Int	|  否|	评论的用户id

求购商品  

|字段名|	字段类型|	是否可为空|	备注
|:------:|:------:|:------:|:------:|
|  Id|	Int(11)	 | 否|	主键
|Modify|	Datetime|	  是|	修改时间
|Name|	Varchar(50)	  |否|	  求购商品名称
|Remark|	Varchar(255)|	  是|	  求购商品详情
|Price|	Decimal(0.00)|	  否|	  求购商品价格
|Sort|	Int	|  否|	  求购商品类别
|Count|	Int	|  否|	  求购商品数量
|Display|	Int	 | 否|	 信息是否被删除
|Transaction|	Int	|  否|	    交易方式
|Uid	|Int	|  否|	发表的用户id
|Image|	Varchar(255)|	  否|	商品的图片地址

求购商品留言  

|字段名|	字段类型|	是否可为空|	备注
|:------:|:------:|:------:|:------:|
|  Id|	Int(11)	|  否|	主键
|Modify|	Datetime|	  是|	修改时间
|Qid	|Int	|  否|	求购商品的id
|Content|	Varchar(122)|	  否|	留言内容
|Display|	Int|	  否|	是否可见
|Uid	|Int	 | 否|	评论的用户id


我发布的商品  

|字段名|	字段类型|	是否可为空|	备注
|:------:|:------:|:------:|:------:|
|  Id|	Int(11)	|  否|	主键
|Modify|	Datetime|	  是|	修改时间
|Display	|Int	|  否|	是否被删除
|Uid	|Int	 | 否|	用户id
|Sid	|Int|	  否|	对应商品id

我求购的商品  
|字段名|	字段类型|	是否可为空|	备注
|:------:|:------:|:------:|:------:|
|  Id|	Int(11)	 | 否|	主键
|Modify|	Datetime|	  是|	修改时间
|Display|	Int	|  否|	是否被删除
|Uid|	Int	|  否|	用户id
|Qid|	Int	|  否	|求购商品id

已购买的商品  

|字段名|	字段类型|	是否可为空|	备注
|:------:|:------:|:------:|:------:|
|  Id|	Int(11)	 | 否	|主键
|Modify|	Datetime|	  是|	修改时间
|State|	Int	 | 否|	商品当前的状态
|Uid	|Int	 | 否|	用户id
|Sid|	Int	|  否|	商品id
|Quantity|	Int	|  否|	商品数量

购物车  

|字段名|	字段类型|	是否可为空|	备注
|:------:|:------:|:------:|:------:|
|  Id|	Int(11)	|  否|	主键
|Modify|	Datetime	|  是|	修改时间
|Display|	Int|	  否|	商品是否被删除
|Uid|	Int|	  否|	用户id
|Sid|	Int|	  否|	商品id
|Quantity|	Int	|  否|	商品数量